<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>شحن عملات تيك توك</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* إضافة التنسيقات الأساسية هنا */
        .header {
            display: flex;
            align-items: center;
        }
        .user-image {
            width: 50px;
            height: 50px;
            border-radius: 50%;
        }
        .username {
            font-size: 18px;
            margin-left: 10px;
        }
        .coins {
            display: flex;
            align-items: center;
            margin-left: 20px;
        }
        .coin-icon {
            width: 20px;
            height: 20px;
        }
        .container {
            padding: 20px;
        }
        .coins-section {
            margin-bottom: 15px;
        }
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.3);
        }
        .progress {
            width: 100%;
            height: 10px;
            background: #ddd;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        #progressCircle {
            height: 100%;
            background: #ff2d55;
            width: 0%;
        }
        #percentageText {
            font-size: 14px;
            margin-top: 5px;
        }
        .success-section {
            text-align: center;
            display: none;
        }
        .shake {
            animation: shake 0.4s ease;
        }
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }
    </style>
</head>
<body>

    <!-- الجزء العلوي -->
    <div class="header">
        <img src="your-photo.jpg" alt="صورة المستخدم" class="user-image">
        <div class="username">Mohosny100</div>
        <div class="coins">
            <img src="coin-new.png" alt="العملات" class="coin-icon">
            <span id="coinsCount">999999999</span> عملة
        </div>
    </div>

    <!-- خانات الإدخال -->
    <div class="container">
        <div class="coins-section">
            <label for="username">اسم المستخدم:</label>
            <input type="text" id="username" placeholder="أدخل اسم المستخدم">
        </div>
        <div class="coins-section">
            <label for="amount">عدد العملات:</label>
            <input type="number" id="amount" placeholder="أدخل عدد العملات">
        </div>
        <button id="chargeButton">شراء مقابل</button>
    </div>

    <!-- منبثقة الدفع -->
    <div id="popup" class="popup">
        <div class="popup-content">
            <h2>تفاصيل الدفع</h2>
            <p id="popupUser"></p>
            <p id="popupCoins"></p>
            <div class="payment-method">
                <p>طريقة الدفع: <span>Visa</span></p>
            </div>
            <div class="progress">
                <div id="progressCircle"></div>
                <span id="percentageText">0%</span>
            </div>
            <button id="payNow">ادفع الآن</button>
            <button id="cancelBtn">إلغاء</button>
        </div>
    </div>

    <!-- قسم النجاح -->
    <div id="successSection" class="success-section"></div>

    <!-- أصوات -->
    <audio id="successSound" src="success-sound.mp3"></audio>
    <audio id="clickSound" src="click-sound.mp3"></audio>
    <audio id="typeSound" src="type-sound.mp3"></audio>

    <script>
        // الحصول على العناصر
        const chargeButton = document.getElementById('chargeButton');
        const usernameInput = document.getElementById('username');
        const amountInput = document.getElementById('amount');
        const popup = document.getElementById('popup');
        const popupUser = document.getElementById('popupUser');
        const popupCoins = document.getElementById('popupCoins');
        const progressCircle = document.getElementById('progressCircle');
        const percentageText = document.getElementById('percentageText');
        const payNowBtn = document.getElementById('payNow');
        const cancelBtn = document.getElementById('cancelBtn');
        const successSection = document.getElementById('successSection');

        // استجابة عند الضغط على زر "شراء مقابل"
        chargeButton.addEventListener('click', () => {
            const username = usernameInput.value.trim();
            const amount = amountInput.value.trim();

            // التحقق من المدخلات
            if (username === '' || amount === '') {
                usernameInput.classList.add('shake');
                amountInput.classList.add('shake');
                setTimeout(() => {
                    usernameInput.classList.remove('shake');
                    amountInput.classList.remove('shake');
                }, 400);
                return; // لا تفتح المنبثقة إذا كانت المدخلات غير صحيحة
            }

            // تعيين البيانات في المنبثقة
            popupUser.innerText = `اسم المستخدم: ${username}`;
            popupCoins.innerText = `عدد العملات: ${amount}`;

            // إظهار المنبثقة
            popup.style.display = 'flex';

            // إخفاء محتوى الصفحة الأساسي عند فتح المنبثقة
            document.querySelector('.container').style.display = 'none';

            // بدء تحميل الشريط
            startLoading();
        });

        // إلغاء المنبثقة
        cancelBtn.addEventListener('click', () => {
            popup.style.display = 'none';
            document.querySelector('.container').style.display = 'block'; // إعادة عرض المحتوى الأساسي
        });

        // بدء عملية تحميل الشريط
        function startLoading() {
            let progress = 0;
            const interval = setInterval(() => {
                progress += 1;
                percentageText.innerText = `${progress}%`;
                progressCircle.style.width = `${progress}%`;

                if (progress === 100) {
                    clearInterval(interval);
                    showSuccess();
                }
            }, 100);
        }

        // عرض رسالة النجاح بعد اكتمال العملية
        function showSuccess() {
            successSection.innerHTML = `<img src="success.gif" alt="نجاح" style="width: 50px; height: 50px; margin-bottom: 15px;" />`;
            successSection.innerHTML += `<p>تم الدفع بنجاح!</p>`;
            successSection.style.display = 'block';
            payNowBtn.style.display = 'none'; // إخفاء زر الدفع بعد إتمام العملية
            document.getElementById('successSound').play(); // تشغيل صوت النجاح عند الدفع
        }

        // تشغيل صوت عند الضغط على زر "ادفع الآن"
        payNowBtn.addEventListener('click', () => {
            document.getElementById('clickSound').play();
        });

        // تشغيل صوت عند الكتابة
        usernameInput.addEventListener('input', () => {
            document.getElementById('typeSound').play();
        });
    </script>
</body>
</html>
